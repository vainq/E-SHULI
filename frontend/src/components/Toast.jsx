import{createContext,useContext,useMemo,useState}from'react';const C=createContext(null);export function ToastProvider({children}){const[list,setList]=useState([]);const toast=m=>{const id=Date.now()+Math.random();setList(l=>[...l,{id,...m}]);setTimeout(()=>setList(l=>l.filter(x=>x.id!==id)),4000)};const value=useMemo(()=>({toast}),[]);return(<C.Provider value={value}>{children}<div className='fixed right-3 top-3 z-[1000] space-y-2'>{list.map(t=>(<div key={t.id} className={`max-w-xs rounded-lg border px-3 py-2 shadow bg-white ${t.variant==='error'?'border-red-300':t.variant==='success'?'border-green-300':'border-gray-200'}`}><div className='font-semibold text-sm'>{t.title}</div><div className='text-xs text-gray-700 mt-0.5'>{t.description}</div></div>))}</div></C.Provider>);}export function useToast(){const ctx=useContext(C);if(!ctx)throw new Error('useToast must be used within ToastProvider');return ctx.toast;}
