import { Link } from 'react-router-dom';import { useEffect, useState } from 'react';export default function Home(){const[health,setHealth]=useState(null);const[error,setError]=useState(null);useEffect(()=>{const base=import.meta.env.VITE_API_BASE_URL;fetch(new URL('/api/health',base).toString()).then(r=>r.json()).then(setHealth).catch(()=>setError('Offline'));},[]);return(<div className='grid gap-6'><section className='rounded-2xl p-6 bg-gradient-to-br from-blue-50 to-purple-50 border'><h1 className='text-3xl font-extrabold mb-2'>Welcome to E-SHULI</h1><p className='text-gray-700'>Rwanda’s directory for Secondary, TVET, and University schools — plus Past Papers, E-Notes, and Jobs.</p><div className='mt-4 flex flex-wrap gap-2'><Link to='/schools' className='px-4 py-2 rounded-xl bg-black text-white'>Browse Schools</Link><Link to='/past-papers' className='px-4 py-2 rounded-xl bg-gray-800 text-white'>Past Papers</Link><Link to='/e-notes' className='px-4 py-2 rounded-xl bg-gray-700 text-white'>E-Notes</Link><Link to='/jobs' className='px-4 py-2 rounded-xl bg-gray-600 text-white'>Jobs</Link></div></section><section className='grid sm:grid-cols-3 gap-4'>{[{title:'Secondary Schools',to:'/schools?level=Secondary'},{title:'TVET Schools',to:'/schools?level=TVET'},{title:'Universities',to:'/schools?level=University'}].map(c=>(<Link key={c.title} to={c.to} className='rounded-xl border p-5 hover:shadow-lg transition'><h3 className='font-bold'>{c.title}</h3><p className='text-sm text-gray-600'>Filter by province, district and more.</p></Link>))}</section><section className='rounded-xl border p-4 bg-white'><h2 className='font-bold mb-2'>API Status</h2>{error&&<div className='text-sm text-red-600 flex items-center gap-2'><span className='inline-block w-2.5 h-2.5 rounded-full bg-red-500'></span>Backend Offline</div>}{health&&<div className='text-sm flex flex-col gap-1'><div className='flex items-center gap-2'><span className={`inline-block w-2.5 h-2.5 rounded-full ${health.ok?'bg-green-500':'bg-red-500'}`}></span>{health.ok?'Online':'Offline'}</div>{typeof health.uptime==='number'&&<div>Uptime: {Math.floor(health.uptime)}s</div>}{health.now&&<div>Server Time: {new Date(health.now).toLocaleString()}</div>}{health.version&&<div>Version: {health.version}</div>}</div>}</section></div>);}
